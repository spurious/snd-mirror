srcdir = @srcdir@
VPATH = @srcdir@

CC = @CC@
INSTALL = @INSTALL@
DEFS = @DEFS@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@

GUILE_LIBS = @GUILE_LIBS@
GUILE_CFLAGS = @GUILE_CFLAGS@
GTK_CFLAGS = @GTK_CFLAGS@
GTK_LIBS = @GTK_LIBS@
GUILE_GTK_LIBS = @GUILE_GTK_LIBS@
MOTIF_LIBS = @XLIBS@
MOTIF_FLAGS = @XFLAGS@
AUDIO_LIB = @AUDIO_LIB@
XMHTML_LIB = @XMHTML_LIB@
GDBM_LIB = @GDBM_LIB@
GSL_LIB = @GSL_LIB@

GX_HEADERS = $(@GX_HEADERS@)
GX_FILES = $(@GX_FILES@)

.c.o:
	$(CC) -c $(DEFS) $(CFLAGS) $(GUILE_CFLAGS) $(MOTIF_FLAGS) $(GTK_CFLAGS) $<

include makesnd.files

snd: $(SNDLIB_HEADERS) $(SNDLIB_SCM_HEADERS) $(SND_HEADERS) $(GX_HEADERS) $(SNDLIB_O_FILES) $(SNDLIB_SCM_FILES) $(O_FILES) $(GX_FILES)
	$(CC) $(LDFLAGS) $(CFLAGS) $(SNDLIB_O_FILES) $(SNDLIB_SCM_FILES) $(O_FILES) $(GX_FILES) -o snd $(GUILE_LIBS) $(GTK_LIBS) $(GUILE_GTK_LIBS) $(MOTIF_LIBS) $(AUDIO_LIB) $(GDBM_LIB) $(GSL_LIB) $(XMHTML_LIB) $(LIBS)

include makesnd.back

Makefile: Makefile.in config.status
	./config.status

config.status: configure
	./config.status --recheck

configure: configure.in
	cd $(srcdir); autoconf

